<div ng-controller="DashboardCompletedController as vm">
  <h1>Uko≈Ñczone zadania</h1>
  <md-divider><md-divider>
    <br>
  <!-- Tasks table -->
  <table  width="100%" layout-padding>
    <thead>
      <tr>

        <th class="pointer" ng-click="sortType = 'desc'; sortReverse = !sortReverse ">
          Opis
          <span class="sortorder" ng-show="sortType === 'desc'" ng-class="{sortReverse: sortReverse}"></span>
        </th>
        <th class="pointer" ng-click="sortType = 'project'; sortReverse = !sortReverse ">
          Projekt
          <span class="sortorder" ng-show="sortType === 'project'" ng-class="{sortReverse: sortReverse}"></span>
        </th>
        <th class="pointer" ng-click="sortType = 'category'; sortReverse = !sortReverse ">
          Kategoria
          <span class="sortorder" ng-show="sortType === 'category'" ng-class="{sortReverse: sortReverse}"></span>
        </th>
        <th class="pointer" ng-click="sortType = 'creationDate'; sortReverse = !sortReverse ">
          Data utworzenia
          <span class="sortorder" ng-show="sortType === 'creationDate'" ng-class="{sortReverse: sortReverse}"></span>
        </th>
        <th class="pointer" ng-click="sortType = 'updated'; sortReverse = !sortReverse ">
          Data modyfikacji
          <span class="sortorder" ng-show="sortType === 'updated'" ng-class="{sortReverse: sortReverse}"></span>
        </th>
        <th class="pointer" ng-click="sortType = 'duration'; sortReverse = !sortReverse ">
          Czas trwania
          <span class="sortorder" ng-show="sortType === 'duration'" ng-class="{sortReverse: sortReverse}"></span>
        </th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr style="height: 3em" ng-mouseover="edit = true" ng-mouseleave="edit = false" ng-repeat="item in vm.tasks | orderBy:sortType:sortReverse" ng-if="item.isCompleted">

        <td class="table-desc">{{ item.desc }}</td>
        <td class="table-project">{{ item.project }}</td>
        <td class="table-category">{{ item.category }}</td>
        <td class="table-creation-date">{{ item.creationDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
        <td class="table-updated">{{ item.updated | date:'yyyy-MM-dd HH:mm:ss' }}</td>
        <td class="table-duration">{{ item.duration | formatDuration }}</td>
        <td class="table-edit-btn">
          <div ng-show="edit">
            <md-button class="md-icon-button" aria-label="Edycja" ng-click="vm.editTask($event, item)">
              <md-icon>mode_edit</md-icon>
              <md-tooltip>Edycja</md-tooltip>
            </md-button>
          </div>
        </td>

      </tr>
    </tbody>
  </table>


</div>
